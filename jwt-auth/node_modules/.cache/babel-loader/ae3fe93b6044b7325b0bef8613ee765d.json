{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\user_auth\\\\jwt-auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\DELL\\\\Desktop\\\\user_auth\\\\jwt-auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\user_auth\\\\jwt-auth\\\\src\\\\pages\\\\CustomeScrollDiv.js\";\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nvar SCROLL_BOX_MIN_HEIGHT = 20;\nexport default function CustomScrollDiv(_ref) {\n  var children = _ref.children,\n    className = _ref.className,\n    restProps = _objectWithoutProperties(_ref, [\"children\", \"className\"]);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    hovering = _useState2[0],\n    setHovering = _useState2[1];\n  var _useState3 = useState(SCROLL_BOX_MIN_HEIGHT),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollBoxHeight = _useState4[0],\n    setScrollBoxHeight = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    scrollBoxTop = _useState6[0],\n    setScrollBoxTop = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    lastScrollThumbPosition = _useState8[0],\n    setScrollThumbPosition = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isDragging = _useState10[0],\n    setDragging = _useState10[1];\n  var handleMouseOver = useCallback(function () {\n    !hovering && setHovering(true);\n  }, [hovering]);\n  var handleMouseOut = useCallback(function () {\n    !!hovering && setHovering(false);\n  }, [hovering]);\n  var handleDocumentMouseUp = useCallback(function (e) {\n    if (isDragging) {\n      e.preventDefault();\n      setDragging(false);\n    }\n  }, [isDragging]);\n  var handleDocumentMouseMove = useCallback(function (e) {\n    if (isDragging) {\n      e.preventDefault();\n      e.stopPropagation();\n      var scrollHostElement = scrollHostRef.current;\n      var scrollHeight = scrollHostElement.scrollHeight,\n        offsetHeight = scrollHostElement.offsetHeight;\n      var deltaY = e.clientY - lastScrollThumbPosition;\n      var percentage = deltaY * (scrollHeight / offsetHeight);\n      setScrollThumbPosition(e.clientY);\n      setScrollBoxTop(Math.min(Math.max(0, scrollBoxTop + deltaY), offsetHeight - scrollBoxHeight));\n      scrollHostElement.scrollTop = Math.min(scrollHostElement.scrollTop + percentage, scrollHeight - offsetHeight);\n    }\n  }, [isDragging, lastScrollThumbPosition, scrollBoxHeight, scrollBoxTop]);\n  var handleScrollThumbMouseDown = useCallback(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setScrollThumbPosition(e.clientY);\n    setDragging(true);\n    console.log(\"handleScrollThumbMouseDown\");\n  }, []);\n  var handleScroll = useCallback(function () {\n    if (!scrollHostRef) {\n      return;\n    }\n    var scrollHostElement = scrollHostRef.current;\n    var scrollTop = scrollHostElement.scrollTop,\n      scrollHeight = scrollHostElement.scrollHeight,\n      offsetHeight = scrollHostElement.offsetHeight;\n    var newTop = parseInt(scrollTop, 10) / parseInt(scrollHeight, 10) * offsetHeight;\n    // newTop = newTop + parseInt(scrollTop, 10);\n    newTop = Math.min(newTop, offsetHeight - scrollBoxHeight);\n    setScrollBoxTop(newTop);\n  }, []);\n  var scrollHostRef = useRef();\n  useEffect(function () {\n    var scrollHostElement = scrollHostRef.current;\n    var clientHeight = scrollHostElement.clientHeight,\n      scrollHeight = scrollHostElement.scrollHeight;\n    var scrollThumbPercentage = clientHeight / scrollHeight;\n    var scrollThumbHeight = Math.max(scrollThumbPercentage * clientHeight, SCROLL_BOX_MIN_HEIGHT);\n    setScrollBoxHeight(scrollThumbHeight);\n    scrollHostElement.addEventListener(\"scroll\", handleScroll, true);\n    return function cleanup() {\n      scrollHostElement.removeEventListener(\"scroll\", handleScroll, true);\n    };\n  }, []);\n  useEffect(function () {\n    //this is handle the dragging on scroll-thumb\n    document.addEventListener(\"mousemove\", handleDocumentMouseMove);\n    document.addEventListener(\"mouseup\", handleDocumentMouseUp);\n    document.addEventListener(\"mouseleave\", handleDocumentMouseUp);\n    return function cleanup() {\n      document.removeEventListener(\"mousemove\", handleDocumentMouseMove);\n      document.removeEventListener(\"mouseup\", handleDocumentMouseUp);\n      document.removeEventListener(\"mouseleave\", handleDocumentMouseUp);\n    };\n  }, [handleDocumentMouseMove, handleDocumentMouseUp]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scrollhost-container\",\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    ref: scrollHostRef,\n    className: \"scrollhost \".concat(className)\n  }, restProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scroll-bar\",\n    style: {\n      opacity: hovering ? 1 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scroll-thumb\",\n    style: {\n      height: scrollBoxHeight,\n      top: scrollBoxTop\n    },\n    onMouseDown: handleScrollThumbMouseDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"names":["React","useState","useCallback","useEffect","useRef","SCROLL_BOX_MIN_HEIGHT","CustomScrollDiv","children","className","restProps","hovering","setHovering","scrollBoxHeight","setScrollBoxHeight","scrollBoxTop","setScrollBoxTop","lastScrollThumbPosition","setScrollThumbPosition","isDragging","setDragging","handleMouseOver","handleMouseOut","handleDocumentMouseUp","e","preventDefault","handleDocumentMouseMove","stopPropagation","scrollHostElement","scrollHostRef","current","scrollHeight","offsetHeight","deltaY","clientY","percentage","Math","min","max","scrollTop","handleScrollThumbMouseDown","console","log","handleScroll","newTop","parseInt","clientHeight","scrollThumbPercentage","scrollThumbHeight","addEventListener","cleanup","removeEventListener","document","opacity","height","top"],"sources":["C:/Users/DELL/Desktop/user_auth/jwt-auth/src/pages/CustomeScrollDiv.js"],"sourcesContent":["import React, { useState, useCallback, useEffect, useRef } from \"react\";\r\n\r\nconst SCROLL_BOX_MIN_HEIGHT = 20;\r\n\r\nexport default function CustomScrollDiv({ children, className, ...restProps }) {\r\n  const [hovering, setHovering] = useState(false);\r\n  const [scrollBoxHeight, setScrollBoxHeight] = useState(SCROLL_BOX_MIN_HEIGHT);\r\n  const [scrollBoxTop, setScrollBoxTop] = useState(0);\r\n  const [lastScrollThumbPosition, setScrollThumbPosition] = useState(0);\r\n  const [isDragging, setDragging] = useState(false);\r\n\r\n  const handleMouseOver = useCallback(() => {\r\n    !hovering && setHovering(true);\r\n  }, [hovering]);\r\n\r\n  const handleMouseOut = useCallback(() => {\r\n    !!hovering && setHovering(false);\r\n  }, [hovering]);\r\n\r\n  const handleDocumentMouseUp = useCallback(\r\n    e => {\r\n      if (isDragging) {\r\n        e.preventDefault();\r\n        setDragging(false);\r\n      }\r\n    },\r\n    [isDragging]\r\n  );\r\n\r\n  const handleDocumentMouseMove = useCallback(\r\n    e => {\r\n      if (isDragging) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const scrollHostElement = scrollHostRef.current;\r\n        const { scrollHeight, offsetHeight } = scrollHostElement;\r\n\r\n        let deltaY = e.clientY - lastScrollThumbPosition;\r\n        let percentage = deltaY * (scrollHeight / offsetHeight);\r\n\r\n        setScrollThumbPosition(e.clientY);\r\n        setScrollBoxTop(\r\n          Math.min(\r\n            Math.max(0, scrollBoxTop + deltaY),\r\n            offsetHeight - scrollBoxHeight\r\n          )\r\n        );\r\n        scrollHostElement.scrollTop = Math.min(\r\n          scrollHostElement.scrollTop + percentage,\r\n          scrollHeight - offsetHeight\r\n        );\r\n      }\r\n    },\r\n    [isDragging, lastScrollThumbPosition, scrollBoxHeight, scrollBoxTop]\r\n  );\r\n\r\n  const handleScrollThumbMouseDown = useCallback(e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setScrollThumbPosition(e.clientY);\r\n    setDragging(true);\r\n    console.log(\"handleScrollThumbMouseDown\");\r\n  }, []);\r\n\r\n  const handleScroll = useCallback(() => {\r\n    if (!scrollHostRef) {\r\n      return;\r\n    }\r\n    const scrollHostElement = scrollHostRef.current;\r\n    const { scrollTop, scrollHeight, offsetHeight } = scrollHostElement;\r\n\r\n    let newTop =\r\n      (parseInt(scrollTop, 10) / parseInt(scrollHeight, 10)) * offsetHeight;\r\n    // newTop = newTop + parseInt(scrollTop, 10);\r\n    newTop = Math.min(newTop, offsetHeight - scrollBoxHeight);\r\n    setScrollBoxTop(newTop);\r\n  }, []);\r\n\r\n  const scrollHostRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const scrollHostElement = scrollHostRef.current;\r\n    const { clientHeight, scrollHeight } = scrollHostElement;\r\n    const scrollThumbPercentage = clientHeight / scrollHeight;\r\n    const scrollThumbHeight = Math.max(\r\n      scrollThumbPercentage * clientHeight,\r\n      SCROLL_BOX_MIN_HEIGHT\r\n    );\r\n    setScrollBoxHeight(scrollThumbHeight);\r\n    scrollHostElement.addEventListener(\"scroll\", handleScroll, true);\r\n    return function cleanup() {\r\n      scrollHostElement.removeEventListener(\"scroll\", handleScroll, true);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    //this is handle the dragging on scroll-thumb\r\n    document.addEventListener(\"mousemove\", handleDocumentMouseMove);\r\n    document.addEventListener(\"mouseup\", handleDocumentMouseUp);\r\n    document.addEventListener(\"mouseleave\", handleDocumentMouseUp);\r\n    return function cleanup() {\r\n      document.removeEventListener(\"mousemove\", handleDocumentMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleDocumentMouseUp);\r\n      document.removeEventListener(\"mouseleave\", handleDocumentMouseUp);\r\n    };\r\n  }, [handleDocumentMouseMove, handleDocumentMouseUp]);\r\n\r\n  return (\r\n    <div\r\n      className={\"scrollhost-container\"}\r\n      onMouseOver={handleMouseOver}\r\n      onMouseOut={handleMouseOut}\r\n    >\r\n      <div\r\n        ref={scrollHostRef}\r\n        className={`scrollhost ${className}`}\r\n        {...restProps}\r\n      >\r\n        {children}\r\n      </div>\r\n      <div className={\"scroll-bar\"} style={{ opacity: hovering ? 1 : 0 }}>\r\n        <div\r\n          className={\"scroll-thumb\"}\r\n          style={{ height: scrollBoxHeight, top: scrollBoxTop }}\r\n          onMouseDown={handleScrollThumbMouseDown}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEvE,IAAMC,qBAAqB,GAAG,EAAE;AAEhC,eAAe,SAASC,eAAe,OAAwC;EAAA,IAArCC,QAAQ,QAARA,QAAQ;IAAEC,SAAS,QAATA,SAAS;IAAKC,SAAS;EAAA,gBACzCR,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAxCS,QAAQ;IAAEC,WAAW;EAAA,iBACkBV,QAAQ,CAACI,qBAAqB,CAAC;IAAA;IAAtEO,eAAe;IAAEC,kBAAkB;EAAA,iBACFZ,QAAQ,CAAC,CAAC,CAAC;IAAA;IAA5Ca,YAAY;IAAEC,eAAe;EAAA,iBACsBd,QAAQ,CAAC,CAAC,CAAC;IAAA;IAA9De,uBAAuB;IAAEC,sBAAsB;EAAA,iBACpBhB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1CiB,UAAU;IAAEC,WAAW;EAE9B,IAAMC,eAAe,GAAGlB,WAAW,CAAC,YAAM;IACxC,CAACQ,QAAQ,IAAIC,WAAW,CAAC,IAAI,CAAC;EAChC,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,IAAMW,cAAc,GAAGnB,WAAW,CAAC,YAAM;IACvC,CAAC,CAACQ,QAAQ,IAAIC,WAAW,CAAC,KAAK,CAAC;EAClC,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,IAAMY,qBAAqB,GAAGpB,WAAW,CACvC,UAAAqB,CAAC,EAAI;IACH,IAAIL,UAAU,EAAE;MACdK,CAAC,CAACC,cAAc,EAAE;MAClBL,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC,EACD,CAACD,UAAU,CAAC,CACb;EAED,IAAMO,uBAAuB,GAAGvB,WAAW,CACzC,UAAAqB,CAAC,EAAI;IACH,IAAIL,UAAU,EAAE;MACdK,CAAC,CAACC,cAAc,EAAE;MAClBD,CAAC,CAACG,eAAe,EAAE;MACnB,IAAMC,iBAAiB,GAAGC,aAAa,CAACC,OAAO;MAAC,IACxCC,YAAY,GAAmBH,iBAAiB,CAAhDG,YAAY;QAAEC,YAAY,GAAKJ,iBAAiB,CAAlCI,YAAY;MAElC,IAAIC,MAAM,GAAGT,CAAC,CAACU,OAAO,GAAGjB,uBAAuB;MAChD,IAAIkB,UAAU,GAAGF,MAAM,IAAIF,YAAY,GAAGC,YAAY,CAAC;MAEvDd,sBAAsB,CAACM,CAAC,CAACU,OAAO,CAAC;MACjClB,eAAe,CACboB,IAAI,CAACC,GAAG,CACND,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEvB,YAAY,GAAGkB,MAAM,CAAC,EAClCD,YAAY,GAAGnB,eAAe,CAC/B,CACF;MACDe,iBAAiB,CAACW,SAAS,GAAGH,IAAI,CAACC,GAAG,CACpCT,iBAAiB,CAACW,SAAS,GAAGJ,UAAU,EACxCJ,YAAY,GAAGC,YAAY,CAC5B;IACH;EACF,CAAC,EACD,CAACb,UAAU,EAAEF,uBAAuB,EAAEJ,eAAe,EAAEE,YAAY,CAAC,CACrE;EAED,IAAMyB,0BAA0B,GAAGrC,WAAW,CAAC,UAAAqB,CAAC,EAAI;IAClDA,CAAC,CAACC,cAAc,EAAE;IAClBD,CAAC,CAACG,eAAe,EAAE;IACnBT,sBAAsB,CAACM,CAAC,CAACU,OAAO,CAAC;IACjCd,WAAW,CAAC,IAAI,CAAC;IACjBqB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;EAC3C,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,YAAY,GAAGxC,WAAW,CAAC,YAAM;IACrC,IAAI,CAAC0B,aAAa,EAAE;MAClB;IACF;IACA,IAAMD,iBAAiB,GAAGC,aAAa,CAACC,OAAO;IAAC,IACxCS,SAAS,GAAiCX,iBAAiB,CAA3DW,SAAS;MAAER,YAAY,GAAmBH,iBAAiB,CAAhDG,YAAY;MAAEC,YAAY,GAAKJ,iBAAiB,CAAlCI,YAAY;IAE7C,IAAIY,MAAM,GACPC,QAAQ,CAACN,SAAS,EAAE,EAAE,CAAC,GAAGM,QAAQ,CAACd,YAAY,EAAE,EAAE,CAAC,GAAIC,YAAY;IACvE;IACAY,MAAM,GAAGR,IAAI,CAACC,GAAG,CAACO,MAAM,EAAEZ,YAAY,GAAGnB,eAAe,CAAC;IACzDG,eAAe,CAAC4B,MAAM,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMf,aAAa,GAAGxB,MAAM,EAAE;EAE9BD,SAAS,CAAC,YAAM;IACd,IAAMwB,iBAAiB,GAAGC,aAAa,CAACC,OAAO;IAAC,IACxCgB,YAAY,GAAmBlB,iBAAiB,CAAhDkB,YAAY;MAAEf,YAAY,GAAKH,iBAAiB,CAAlCG,YAAY;IAClC,IAAMgB,qBAAqB,GAAGD,YAAY,GAAGf,YAAY;IACzD,IAAMiB,iBAAiB,GAAGZ,IAAI,CAACE,GAAG,CAChCS,qBAAqB,GAAGD,YAAY,EACpCxC,qBAAqB,CACtB;IACDQ,kBAAkB,CAACkC,iBAAiB,CAAC;IACrCpB,iBAAiB,CAACqB,gBAAgB,CAAC,QAAQ,EAAEN,YAAY,EAAE,IAAI,CAAC;IAChE,OAAO,SAASO,OAAO,GAAG;MACxBtB,iBAAiB,CAACuB,mBAAmB,CAAC,QAAQ,EAAER,YAAY,EAAE,IAAI,CAAC;IACrE,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENvC,SAAS,CAAC,YAAM;IACd;IACAgD,QAAQ,CAACH,gBAAgB,CAAC,WAAW,EAAEvB,uBAAuB,CAAC;IAC/D0B,QAAQ,CAACH,gBAAgB,CAAC,SAAS,EAAE1B,qBAAqB,CAAC;IAC3D6B,QAAQ,CAACH,gBAAgB,CAAC,YAAY,EAAE1B,qBAAqB,CAAC;IAC9D,OAAO,SAAS2B,OAAO,GAAG;MACxBE,QAAQ,CAACD,mBAAmB,CAAC,WAAW,EAAEzB,uBAAuB,CAAC;MAClE0B,QAAQ,CAACD,mBAAmB,CAAC,SAAS,EAAE5B,qBAAqB,CAAC;MAC9D6B,QAAQ,CAACD,mBAAmB,CAAC,YAAY,EAAE5B,qBAAqB,CAAC;IACnE,CAAC;EACH,CAAC,EAAE,CAACG,uBAAuB,EAAEH,qBAAqB,CAAC,CAAC;EAEpD,oBACE;IACE,SAAS,EAAE,sBAAuB;IAClC,WAAW,EAAEF,eAAgB;IAC7B,UAAU,EAAEC,cAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAE3B;IACE,GAAG,EAAEO,aAAc;IACnB,SAAS,uBAAgBpB,SAAS;EAAG,GACjCC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,IAEZF,QAAQ,CACL,eACN;IAAK,SAAS,EAAE,YAAa;IAAC,KAAK,EAAE;MAAE6C,OAAO,EAAE1C,QAAQ,GAAG,CAAC,GAAG;IAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACjE;IACE,SAAS,EAAE,cAAe;IAC1B,KAAK,EAAE;MAAE2C,MAAM,EAAEzC,eAAe;MAAE0C,GAAG,EAAExC;IAAa,CAAE;IACtD,WAAW,EAAEyB,0BAA2B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACxC,CACE,CACF;AAEV"},"metadata":{},"sourceType":"module"}